(function(){"use strict";!function(){const t={NODE_ENV:"production",MAPBOX_ACCESS_TOKEN:"pk.eyJ1Ijoic2FtYXJhLXdlYm1hc3RlciIsImEiOiJjbDc0bTY3NjMwNmh2M3VudG5sc2hxOGp2In0.DHQc2ZACY-ksnoPFXEP9qg",SQUARE_APPLICATION_ID:"sq0idp-LKxlyb5RS8WZFsxwd791ew",SQUARE_LOCATION_ID:"LR4Z6RQHCZTJQ",SQUARE_APPLICATION_ID_SANDBOX:"sandbox-sq0idb-hArsrA6cFTgj61TR7qDTKA",SQUARE_LOCATION_ID_SANDBOX:"LM7RWMQ4R8VEW"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}();var installation_cost={socal:{studio:105e3,onebed:115e3,twobed:125e3},nocal:{studio:115e3,onebed:125500,twobed:136250},rest:{studio:105e3,onebed:115e3,twobed:125e3}},deposit={amount:{development:250,production:250}},prompts=[{question:"Does this property have a sewer connection or septic tank?",answers:["Sewer","Septic","Not sure"],sf_field:"Sanitary_Sewer_Type__c"},{question:"Does the main house on this property have a fire sprinkler system?",answers:["Yes","No"],sf_field:"Main_Home_Fire_Sprinkler__c",cost:[0,0],installation_cost:[0,0]}],options=[{key:"region",values:[{key:"socal",display:{title:"Southern California",alternativeTitle:"Southern<br>California",sf_field:"GEO_c",sf_value:"Southern California"}},{key:"nocal",display:{title:"San&nbsp;Francisco Bay&nbsp;Area",alternativeTitle:"San&nbsp;Francisco<br>Bay&nbsp;Area",sf_field:"GEO_c",sf_value:"San Francisco Bay Area"}},{key:"rest",display:{title:"Somewhere else",subtitle:"Coming soon",sf_field:"GEO_c",sf_value:"Other"}}],display:{label:"Region",title:"Where is your Backyard going?"}},{key:"layout",sf_field:"Unit_Layout__c",values:[{key:"studio",sf_value:"Backyard Studio",cost:174e3,display:{title:"Studio",subtitle:"420 gross sq. ft."}},{key:"onebed",sf_value:"Backyard One",cost:184e3,display:{title:"One bedroom",subtitle:"540 gross sq. ft."}},{key:"twobed",sf_value:"Backyard Two",cost:214e3,display:{title:"Two bedroom",subtitle:"690 gross sq. ft."}}],display:{label:"Layout",title:"Choose your layout"}},{key:"color",sf_field:"Base_Color_Selection__c",values:[{key:"base-bonewhite",sf_value:"Bone white",display:{title:"Bone white base",alternativeTitle:"Bone white <span>base</span>",image:"/assets/images/configure/colors/bone-white.webp"}},{key:"base-driftwood",sf_value:"Driftwood",display:{title:"Driftwood base",alternativeTitle:"Driftwood <span>base</span>",image:"/assets/images/configure/colors/driftwood.webp"}},{key:"base-parchment",sf_value:"Parchment",display:{title:"Parchment base",alternativeTitle:"Parchment <span>base</span>",image:"/assets/images/configure/colors/parchment.webp"}},{key:"base-evergreen",sf_value:"Evergreen",cost:5e3,display:{title:"Evergreen base",alternativeTitle:"Evergreen <span>base</span>",image:"/assets/images/configure/colors/evergreen.webp"}},{key:"base-dark-bronze",sf_value:"Dark bronze",cost:5e3,display:{title:"Dark bronze base",alternativeTitle:"Dark bronze <span>base</span>",image:"/assets/images/configure/colors/dark-bronze.webp"}}],display:{label:"Color",title:"Choose your base color"}},{key:"roof",sf_field:"Roof_Color__c",values:[{key:"roof-dark-bronze",sf_value:"Dark Bronze",display:{title:"Dark bronze roof"}},{key:"roof-metallic-silver",sf_value:"Silver",cost:2500,display:{title:"Metallic silver roof"}}],display:{label:"Roof",title:"Choose your roof color"}},{key:"entry",sf_field:"Studio_Entry__c",conditions:{layout:"(layout) => layout === 'studio'"},values:[{key:"entry-side",sf_value:"Side entry",display:{title:"Side entry"}},{key:"entry-front",sf_value:"Front entry",cost:3e3,display:{title:"Front entry"}}],display:{label:"Entry",title:"Choose your entry",camera:"right-angle"}},{key:"front",sf_field:"Front_Option__c",conditions:{entry:"(entry) => entry === undefined || entry === 'entry-side'"},values:[{key:"front-window",sf_value:"Casement window",display:{title:"Casement window",label:"Front casement window"}},{key:"front-doors",sf_value:"Double Doors",cost:11e3,display:{title:"Double doors <span class='long'>and deck</span>",label:"Front double doors"}}],display:{label:"Front",title:"Choose your front option",camera:"right-angle"}},{key:"left",sf_field:"Side_Option__c",values:[{key:"side-window",sf_value:"Casement Window",display:{title:"Casement window",label:"Side casement window"}},{key:"side-doors",sf_value:"Double Doors",cost:11e3,display:{title:"Double doors <span class='long'>and deck</span>",label:"Side double doors"}}],display:{label:"Left side",title:"Choose your left side option",camera:"left-angle"}},{key:"solar",sf_field:"Solar_Option__c",values:[{key:"solar-half",sf_value:"Half Solar",cost:"({layout}) => layout === 'studio' ? 8100 : (layout === 'onebed' ? 10200 : 13500)",display:{title:"Half solar",sf_value:"Half Solar",subtitle:"Runs at net zero⁑",description:"({layout}) => layout === 'studio' ? '7-panel, 2.5 kW DC photovoltaic system' : (layout === 'onebed' ? '9-panel, 3.4 kW DC photovoltaic system' : '12-panel, 4.5 kW DC photovoltaic system')"}},{key:"solar-full",sf_value:"Full Solar",cost:"({layout}) => layout === 'studio' ? 16200 : (layout === 'onebed' ? 20400 : 27000)",display:{title:"Full solar",description:"({layout}) => layout === 'studio' ? '14-panel, 5.3 kW DC photovoltaic system' : (layout === 'onebed' ? '18-panel, 6.8 kW DC photovoltaic system' : '24-panel, 9.1 kW DC photovoltaic system')",subtitle:"Offset even more energy usage"}},{key:"solar-no",sf_value:"No Solar",display:{title:"I don't need solar",subtitle:"Power Backyard with existing energy sources",description:"No solar"}}],display:{label:"Solar",title:"Choose your solar option",camera:"roof"}},{key:"interior-blinds",sf_field:"Blinds__c",values:[{key:"blinds-no",sf_value:"No Blinds",display:{title:"No blinds",cost:"baseline"}},{key:"blinds-roller",sf_value:"Rolling Blinds",cost:"({layout, entry, left, front}) => (layout === 'studio' ? 1250 : (layout === 'onebed' ? 1500 : 1750)) + (left === 'side-doors' ? 250 : 0) + (entry === 'entry-front' || front === 'front-doors' ? 250 : 0)",display:{title:"Roller blinds"}}],display:{label:"Blinds",title:"Choose your blinds"}}],config={installation_cost:installation_cost,deposit:deposit,prompts:prompts,options:options};const BASELINE_CONFIGURATION={...config.options.reduce(((t,e)=>({...t,[e.key]:e.values[0].key})),{}),layout:"onebed",solar:"no-solar"};function optionWithKey$1(t){return config.options.find((e=>e.key===t))}function configurableOptionsFor($configuration){return config.options.filter((option=>!option.conditions||Object.entries(option.conditions).every((([key,expression])=>eval(expression)($configuration[key])))))}function noop(){}function assign(t,e){for(const n in e)t[n]=e[n];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let src_url_equal_anchor;function src_url_equal(t,e){return t===e||(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href)}function is_empty(t){return 0===Object.keys(t).length}function subscribe(t,...e){if(null==t){for(const t of e)t(void 0);return noop}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function get_store_value(t){let e;return subscribe(t,(t=>e=t))(),e}function component_subscribe(t,e,n){t.$$.on_destroy.push(subscribe(e,n))}function create_slot(t,e,n,o){if(t){const a=get_slot_context(t,e,n,o);return t[0](a)}}function get_slot_context(t,e,n,o){return t[1]&&o?assign(n.ctx.slice(),t[1](o(e))):n.ctx}function get_slot_changes(t,e,n,o){if(t[2]&&o){const a=t[2](o(n));if(void 0===e.dirty)return a;if("object"==typeof a){const t=[],n=Math.max(e.dirty.length,a.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|a[o];return t}return e.dirty|a}return e.dirty}function update_slot_base(t,e,n,o,a,s){if(a){const r=get_slot_context(e,n,o,s);t.p(r,a)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function null_to_empty(t){return null==t?"":t}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function append(t,e){t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode&&t.parentNode.removeChild(t)}function destroy_each(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function element(t){return document.createElement(t)}function svg_element(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function listen(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.data!==e&&(t.data=e)}function set_input_value(t,e){t.value=null==e?"":e}function toggle_class(t,e,n){t.classList.toggle(e,!!n)}function custom_event(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function afterUpdate(t){get_current_component().$$.after_update.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function createEventDispatcher(){const t=get_current_component();return(e,n,{cancelable:o=!1}={})=>{const a=t.$$.callbacks[e];if(a){const s=custom_event(e,n,{cancelable:o});return a.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function setContext(t,e){return get_current_component().$$.context.set(t,e),e}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}function add_flush_callback(t){flush_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(0!==flushidx)return;const t=current_component;do{try{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(t){throw dirty_components.length=0,flushidx=0,t}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}function flush_render_callbacks(t){const e=[],n=[];render_callbacks.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),render_callbacks=e}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,o){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push((()=>{outroing.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function ensure_array_like(t){return void 0!==t?.length?t:Array.from(t)}function bind(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function create_component(t){t&&t.c()}function mount_component(t,e,n){const{fragment:o,after_update:a}=t.$$;o&&o.m(e,n),add_render_callback((()=>{const e=t.$$.on_mount.map(run).filter(is_function);t.$$.on_destroy?t.$$.on_destroy.push(...e):run_all(e),t.$$.on_mount=[]})),a.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;null!==n.fragment&&(flush_render_callbacks(n.after_update),run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,o,a,s,r=null,i=[-1]){const l=current_component;set_current_component(t);const c=t.$$={fragment:null,ctx:[],props:s,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&a(c.ctx[e],c.ctx[e]=s)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](s),u&&make_dirty(t,e)),n})):[],c.update(),u=!0,run_all(c.before_update),c.fragment=!!o&&o(c.ctx),e.target){if(e.hydrate){const t=children(e.target);c.fragment&&c.fragment.l(t),t.forEach(detach)}else c.fragment&&c.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor),flush()}set_current_component(l)}class SvelteComponent{$$=void 0;$$set=void 0;$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,e){if(!is_function(e))return noop;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";function create_fragment$8(t){let e,n,o,a,s,r,i,l,c,u,d,p,f;return{c(){e=element("div"),n=element("h1"),n.textContent="We handle everything, from permits to installation.",o=space(),a=element("p"),a.textContent="Getting Backyard is easy. After you configure your unit, you won’t have\n\t\tto worry about filing permits, finding contractors, or any other part of\n\t\tthe building process.",s=space(),r=element("div"),r.innerHTML="<h2>Our base installation estimate includes:</h2> <ul><li>Permits and surveying</li> <li>Site prep</li> <li>Foundation installation</li> <li>Utility trenching and hookup</li> <li>Unit shipping</li> <li>Crane-in</li> <li>Stair and deck installation</li> <li>Touch up and final cleaning</li> <li>Project management</li></ul>",i=space(),l=element("div"),l.innerHTML="<br/>",c=space(),u=element("div"),d=element("a"),d.textContent="Learn more about pricing and construction",attr(r,"class","lists"),attr(l,"class","flexible"),attr(d,"href","/backyard/faq"),attr(u,"class","bottom ice-faq-link"),attr(e,"class","ice")},m(t,_){insert(t,e,_),append(e,n),append(e,o),append(e,a),append(e,s),append(e,r),append(e,i),append(e,l),append(e,c),append(e,u),append(u,d),p||(f=listen(d,"click",didClickLearnMoreLink),p=!0)},p:noop,i:noop,o:noop,d(t){t&&detach(e),p=!1,f()}}}function didClickLearnMoreLink(t){t.preventDefault(),t.stopPropagation(),Calculator.hide(),setTimeout(openRoute,250,"/backyard/faq")}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);class InstallationCostExplained extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$8,safe_not_equal,{})}}function create_fragment$7(t){let e;return{c(){e=element("div"),e.innerHTML='<h1 class="svelte-1by767p">Estimate monthly payments with our calculator.</h1> <p class="svelte-1by767p">There are many ways to finance Backyard, and we&#39;ll help you find the\n        best choice for you. Available rates, terms, and product offerings will\n        be based on your unique financial situation.</p>',attr(e,"class","header")},m(t,n){insert(t,e,n)},p:noop,i:noop,o:noop,d(t){t&&detach(e)}}}class Header extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$7,safe_not_equal,{})}}const subscriber_queue=[];function readable(t,e){return{subscribe:writable(t,e).subscribe}}function writable(t,e=noop){let n;const o=new Set;function a(e){if(safe_not_equal(t,e)&&(t=e,n)){const e=!subscriber_queue.length;for(const e of o)e[1](),subscriber_queue.push(e,t);if(e){for(let t=0;t<subscriber_queue.length;t+=2)subscriber_queue[t][0](subscriber_queue[t+1]);subscriber_queue.length=0}}}function s(e){a(e(t))}return{set:a,update:s,subscribe:function(r,i=noop){const l=[r,i];return o.add(l),1===o.size&&(n=e(a,s)||noop),r(t),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}function derived(t,e,n){const o=!Array.isArray(t),a=o?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return readable(n,((t,n)=>{let r=!1;const i=[];let l=0,c=noop;const u=()=>{if(l)return;c();const a=e(o?i[0]:i,t,n);s?t(a):c=is_function(a)?a:noop},d=a.map(((t,e)=>subscribe(t,(t=>{i[e]=t,l&=~(1<<e),r&&u()}),(()=>{l|=1<<e}))));return r=!0,u(),function(){run_all(d),c(),r=!1}}))}const INITIAL_STATE$1={region:"socal"};function createStore$2(){const{set:t,update:e,subscribe:n}=writable(INITIAL_STATE$1);return{subscribe:n,set(e){t({...INITIAL_STATE$1,...e})},reset(){t(INITIAL_STATE$1)},select(t,n){e((e=>({...INITIAL_STATE$1,...e,[t]:n})))},random(){const e=config.options.reduce(((t,e)=>{const n=e.values[Math.trunc(e.values.length*Math.random())];return{...t,[e.key]:n.key}}),{});t(e)}}}const store$2=createStore$2();function createStore$1(){const{set:t,update:e,subscribe:n}=writable({});return{subscribe:n,set:t,reset(){t({})},respond(t,n){e((e=>({...e,[t]:n})))},random(){e((t=>config.prompts.reduce(((t,e)=>({...t,[e.question]:e.answers[Math.trunc(Math.random()*e.answers.length)]})),{})))}}}const store$1=createStore$1();function optionWithKey(t){return config.options.find((e=>e.key===t))}function variantWithKey(t,e){return e?e.values.find((e=>e.key===t)):null}function safeCostEval(t,e){const n={};for(p in this)n[p]=void 0;return new Function("c",`let v; with(this) { v = (${t})(c) }; return v;`).call(n,e)}function completeConfiguration(t){const e={...BASELINE_CONFIGURATION,...t};return{...configurableOptionsFor(e).map((t=>t.key)).reduce(((t,n)=>({...t,[n]:e[n]})),{}),region:e.region}}function costForVariantWithKey(t,e,n){const o=variantWithKey(t,optionWithKey(e));if(!o||!o.cost)return 0;if(Number.isFinite(o.cost))return o.cost;const a=safeCostEval(o.cost,completeConfiguration(n));return a||0}const costForConfigurationCache={};function costForConfiguration(t,e={}){const n=completeConfiguration(t),o=JSON.stringify(n);if(costForConfigurationCache[o])return costForConfigurationCache[o];let a=Object.entries(n).reduce(((t,[e,o])=>t+costForVariantWithKey(o,e,n)),0);const{region:s,layout:r}=n;let i=config.installation_cost[s][r];Object.entries(e).forEach((([t,e])=>{const n=config.prompts.find((e=>e.question===t));if(!n)return;const o=n.answers.findIndex((t=>t===e));void 0!==n.cost&&(a+=n.cost[o]||0),void 0!==n.installation_cost&&(i+=n.installation_cost[o]||0)}));const l=a+i;return costForConfigurationCache[o]={total:l,installation:i,base:a},{total:l,installation:i,base:a}}function formatCurrency(t){let e=t;!1===Number.isFinite(e)&&(e=0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}derived([store$2,store$1],(([t,e])=>costForConfiguration(t,e)));const IS_ENABLED=(()=>{try{const t="__storage_test";return window.localStorage.setItem(t,null),window.localStorage.removeItem(t),!0}catch(t){return!1}})(),PREFIX="v6:",DEBOUNCE_INTERVAL=0,MAXIMUM_PERSISTENCE_INTERVAL=0;function persisted(t,e,n=(t=>t)){if(!IS_ENABLED)return e;let o,a=Date.now();function s(){const n=JSON.stringify(get_store_value(e));n&&(localStorage.setItem(PREFIX+t,n),a=Date.now())}window.addEventListener("visibilitychange",s),window.addEventListener("pagehide",s),e.subscribe((()=>{clearTimeout(o),Date.now()-a>MAXIMUM_PERSISTENCE_INTERVAL?s():o=setTimeout(s,DEBOUNCE_INTERVAL)}));const r=localStorage.getItem(PREFIX+t);if(r){const t=r;let o;try{o=n(JSON.parse(t))}catch(t){console.warn("failed to load store",t.message)}o&&e.set(o)}return e}function uniqueIdentifier(){return Math.random().toString(32).substr(2,5)}function synchronized(t,e,n=(t=>t)){const o=uniqueIdentifier();let a=uniqueIdentifier();return window.addEventListener(`store:sync:${t}`,(function(t){t.detail.id!==o&&t.detail.version!==a&&(a=t.detail.version,e.update((e=>({...e,...n(t.detail.state)})),!0))})),{...e,update(n,s){e.update((e=>{const r=n(e);if(!0!==s){a=uniqueIdentifier();const e=new CustomEvent(`store:sync:${t}`,{detail:{state:r,id:o,version:a}});setTimeout((()=>{window.dispatchEvent(e)}),0)}return r}))}}}function mortgageForCost(t,e){const n=t*(1-e.down),o=12*e.term,a=100*e.rate/100/12,s=(a+1)**o;return{total:n,monthly:n*(a*s/(s-1))}}const INITIAL_STATE={down:.1,term:30,rate:.07,invalidValues:[]};function createStore(){const{set:t,update:e,subscribe:n}=writable(INITIAL_STATE);return{subscribe:n,set:t,update:e,reset(){t({...INITIAL_STATE})}}}const store=persisted("calculator:v5",synchronized("calculator",createStore()));function get_each_context(t,e,n){const o=t.slice();return o[4]=e[n],o}function get_each_context_1(t,e,n){const o=t.slice();return o[4]=e[n],o}function create_each_block_1(t){let e,n,o,a,s;function r(){return t[3](t[4])}return{c(){e=element("li"),n=element("button"),n.textContent=`${t[4].display.title}`,o=space(),attr(n,"class","m-type-12 svelte-12wu7ls"),toggle_class(e,"selected",t[0]===t[4].key)},m(t,i){insert(t,e,i),append(e,n),append(e,o),a||(s=listen(n,"click",r),a=!0)},p(n,o){t=n,1&o&&toggle_class(e,"selected",t[0]===t[4].key)},d(t){t&&detach(e),a=!1,s()}}}function create_each_block(t){let e,n;return{c(){e=element("img"),attr(e,"class",null_to_empty(t[4].key)+" svelte-12wu7ls"),src_url_equal(e.src,n=t[1][t[4].key])||attr(e,"src",n),attr(e,"alt",t[4].display.title)},m(t,n){insert(t,e,n)},p:noop,d(t){t&&detach(e)}}}function create_fragment$6(t){let e,n,o,a,s,r,i,l,c,u,d,p=formatCurrency(costForConfiguration({layout:t[0]}).total)+"",f=ensure_array_like(optionWithKey$1("layout").values),_=[];for(let e=0;e<f.length;e+=1)_[e]=create_each_block_1(get_each_context_1(t,f,e));let m=ensure_array_like(optionWithKey$1("layout").values),y=[];for(let e=0;e<m.length;e+=1)y[e]=create_each_block(get_each_context(t,m,e));return{c(){e=element("div"),n=element("ul");for(let t=0;t<_.length;t+=1)_[t].c();o=space(),a=element("div");for(let t=0;t<y.length;t+=1)y[t].c();r=space(),i=element("div"),l=element("div"),c=text(p),u=space(),d=element("div"),d.textContent="Estimated cost",attr(n,"class","selector svelte-12wu7ls"),attr(a,"class",s=null_to_empty(t[0])+" svelte-12wu7ls"),attr(l,"class","value svelte-12wu7ls"),attr(d,"class","note svelte-12wu7ls"),attr(i,"class","cost svelte-12wu7ls"),attr(e,"class","model-picker svelte-12wu7ls")},m(t,s){insert(t,e,s),append(e,n);for(let t=0;t<_.length;t+=1)_[t]&&_[t].m(n,null);append(e,o),append(e,a);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(a,null);append(e,r),append(e,i),append(i,l),append(l,c),append(i,u),append(i,d)},p(t,[e]){if(5&e){let o;for(f=ensure_array_like(optionWithKey$1("layout").values),o=0;o<f.length;o+=1){const a=get_each_context_1(t,f,o);_[o]?_[o].p(a,e):(_[o]=create_each_block_1(a),_[o].c(),_[o].m(n,null))}for(;o<_.length;o+=1)_[o].d(1);_.length=f.length}if(2&e){let n;for(m=ensure_array_like(optionWithKey$1("layout").values),n=0;n<m.length;n+=1){const o=get_each_context(t,m,n);y[n]?y[n].p(o,e):(y[n]=create_each_block(o),y[n].c(),y[n].m(a,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}1&e&&s!==(s=null_to_empty(t[0])+" svelte-12wu7ls")&&attr(a,"class",s),1&e&&p!==(p=formatCurrency(costForConfiguration({layout:t[0]}).total)+"")&&set_data(c,p)},i:noop,o:noop,d(t){t&&detach(e),destroy_each(_,t),destroy_each(y,t)}}}function instance$6(t,e,n){let{model:o}=e;function a(t){n(0,o=t)}return t.$$set=t=>{"model"in t&&n(0,o=t.model)},[o,{studio:"/assets/images/backyard/front-elevations/studio.frontdoors.solarfull.basewhite.roofdarkbronze.front/studio.frontdoors.solarfull.basewhite.roofdarkbronze.front-4000.webp",onebed:"/assets/images/backyard/front-elevations/onebedroom.frontdoors.solarfull.basebonewhite.roofdarkbronze.front/onebedroom.frontdoors.solarfull.basebonewhite.roofdarkbronze.front-4000.webp",twobed:"/assets/images/backyard/front-elevations/twobedroom.frontdoors.solarfull.basewhite.roofdarkbronze.front/twobedroom.frontdoors.solarfull.basewhite.roofdarkbronze.front-4000.webp"},a,t=>a(t.key)]}store.updateValues=function(t){store.update((e=>{const n={...e,...t},o=[],a=n.down>=0&&n.down<1,s=n.term>0&&n.term<=30,r=Number.isFinite(parseFloat(n.rate))&&parseFloat(n.rate)>0&&parseFloat(n.rate)<1;if(!1===a&&o.push("down"),!1===s&&o.push("term"),!1===r&&o.push("rate"),o.length>0)return{...n,invalidValues:o};return{...n,invalidValues:o}}))};class ModelPicker extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$6,safe_not_equal,{model:0})}}function create_fragment$5(t){let e,n,o,a,s,r,i,l,c,u,d,p=formatCurrency(t[0])+"",f=formatCurrency(t[0]-t[1])+"",_=formatCurrency(t[1])+"";return{c(){e=element("div"),n=element("h4"),n.textContent="Estimated cost",o=space(),a=element("h4"),s=text(p),r=space(),i=element("p"),l=text(f),c=text(" current configuration + "),u=text(_),d=text(" base installation estimate."),attr(n,"class","svelte-bu2v8e"),attr(a,"class","svelte-bu2v8e"),attr(i,"class","svelte-bu2v8e"),attr(e,"class","estimated svelte-bu2v8e")},m(t,p){insert(t,e,p),append(e,n),append(e,o),append(e,a),append(a,s),append(e,r),append(e,i),append(i,l),append(i,c),append(i,u),append(i,d)},p(t,[e]){1&e&&p!==(p=formatCurrency(t[0])+"")&&set_data(s,p),3&e&&f!==(f=formatCurrency(t[0]-t[1])+"")&&set_data(l,f),2&e&&_!==(_=formatCurrency(t[1])+"")&&set_data(u,_)},i:noop,o:noop,d(t){t&&detach(e)}}}function instance$5(t,e,n){let{cost:o}=e,{installation:a}=e;return t.$$set=t=>{"cost"in t&&n(0,o=t.cost),"installation"in t&&n(1,a=t.installation)},[o,a]}class EstimatedCost extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$5,safe_not_equal,{cost:0,installation:1})}}function create_fragment$4(t){let e,n,o,a,s,r,i,l,c,u,d,p,f,_,m,y,v,g,b,h,$,w,k,C,x,E,S,I,T,q,N,A,F,L,D,O,B,M,R,P,W,z="1"===t[2]?"year":"years";return{c(){e=element("form"),n=element("div"),o=element("div"),a=element("label"),a.textContent="Down payment",s=space(),r=element("div"),i=element("input"),l=space(),c=element("div"),u=element("div"),d=element("span"),p=text(t[1]),f=text("%"),_=space(),m=element("input"),y=space(),v=element("div"),g=element("div"),b=element("label"),b.textContent="Term",h=space(),$=element("div"),w=element("div"),k=element("span"),C=text(t[2]),x=space(),E=text(z),S=space(),I=element("input"),T=space(),q=element("div"),N=element("label"),N.textContent="Interest rate",A=space(),F=element("div"),L=element("div"),D=element("span"),O=text(t[3]),B=text("%"),M=space(),R=element("input"),attr(a,"for","calculator-down"),attr(a,"class","svelte-1mvfoit"),attr(i,"id","calculator-down"),attr(i,"name","down-amount"),attr(i,"type","text"),attr(i,"inputmode","decimal"),attr(i,"class","svelte-1mvfoit"),attr(r,"class","input wide svelte-1mvfoit"),attr(d,"class","svelte-1mvfoit"),attr(u,"class","overlay svelte-1mvfoit"),attr(m,"name","down-percent"),attr(m,"type","text"),attr(m,"inputmode","decimal"),attr(m,"class","svelte-1mvfoit"),attr(c,"class","input narrow svelte-1mvfoit"),attr(o,"class","field merge svelte-1mvfoit"),toggle_class(o,"invalid",t[4]("down")),attr(n,"class","form-row svelte-1mvfoit"),attr(b,"for","calculator-term"),attr(b,"class","svelte-1mvfoit"),attr(k,"class","svelte-1mvfoit"),attr(w,"class","overlay svelte-1mvfoit"),attr(I,"id","calculator-term"),attr(I,"name","term"),attr(I,"type","text"),attr(I,"inputmode","decimal"),attr(I,"class","svelte-1mvfoit"),attr($,"class","input svelte-1mvfoit"),attr(g,"class","field wide svelte-1mvfoit"),toggle_class(g,"invalid",t[4]("term")),attr(N,"for","calculator-rate"),attr(N,"class","svelte-1mvfoit"),attr(D,"class","svelte-1mvfoit"),attr(L,"class","overlay svelte-1mvfoit"),attr(R,"id","calculator-rate"),attr(R,"name","rate"),attr(R,"type","text"),attr(R,"inputmode","decimal"),attr(R,"class","svelte-1mvfoit"),attr(F,"class","input svelte-1mvfoit"),attr(q,"class","field narrow svelte-1mvfoit"),toggle_class(q,"invalid",t[4]("rate")),attr(v,"class","form-row svelte-1mvfoit")},m(z,V){insert(z,e,V),append(e,n),append(n,o),append(o,a),append(o,s),append(o,r),append(r,i),set_input_value(i,t[0]),append(o,l),append(o,c),append(c,u),append(u,d),append(d,p),append(u,f),append(c,_),append(c,m),set_input_value(m,t[1]),append(e,y),append(e,v),append(v,g),append(g,b),append(g,h),append(g,$),append($,w),append(w,k),append(k,C),append(w,x),append(w,E),append($,S),append($,I),set_input_value(I,t[2]),append(v,T),append(v,q),append(q,N),append(q,A),append(q,F),append(F,L),append(L,D),append(D,O),append(L,B),append(F,M),append(F,R),set_input_value(R,t[3]),P||(W=[listen(i,"input",t[16]),listen(i,"input",t[6]),listen(i,"input",t[5]),listen(i,"blur",t[7]),listen(m,"input",t[17]),listen(m,"input",t[8]),listen(m,"input",t[5]),listen(I,"input",t[18]),listen(I,"input",t[9]),listen(I,"input",t[5]),listen(R,"input",t[19]),listen(R,"input",t[10]),listen(R,"input",t[5])],P=!0)},p(t,[e]){1&e&&i.value!==t[0]&&set_input_value(i,t[0]),2&e&&set_data(p,t[1]),2&e&&m.value!==t[1]&&set_input_value(m,t[1]),16&e&&toggle_class(o,"invalid",t[4]("down")),4&e&&set_data(C,t[2]),4&e&&z!==(z="1"===t[2]?"year":"years")&&set_data(E,z),4&e&&I.value!==t[2]&&set_input_value(I,t[2]),16&e&&toggle_class(g,"invalid",t[4]("term")),8&e&&set_data(O,t[3]),8&e&&R.value!==t[3]&&set_input_value(R,t[3]),16&e&&toggle_class(q,"invalid",t[4]("rate"))},i:noop,o:noop,d(t){t&&detach(e),P=!1,run_all(W)}}}function toNumber(t,e){return e(`${t}`.replace("$","").replace(",","").replace("%",""))||0}function instance$4(t,e,n){let o,a;component_subscribe(t,store,(t=>n(15,a=t)));let{model:s}=e,{cost:r}=e,i=r||costForConfiguration({layout:s}).total,l=formatCurrency(i*a.down),c=a.down,u=a.term,d=(100*a.rate).toFixed(1),p=s;function f(){n(1,c=Math.ceil(100*a.down).toFixed()),n(2,u=toNumber(a.term,parseInt).toFixed())}return onMount(f),t.$$set=t=>{"model"in t&&n(11,s=t.model),"cost"in t&&n(12,r=t.cost)},t.$$.update=()=>{63488&t.$$.dirty&&p!==s&&(void 0===r&&n(13,i=costForConfiguration({layout:s}).total),n(0,l=formatCurrency(i*a.down)),n(14,p=s)),32768&t.$$.dirty&&n(4,o=t=>a.invalidValues.includes(t))},[l,c,u,d,o,function(){f(),"undefined"!=typeof gtag&&gtag("event","calculator_value_changed")},function(t){store.updateValues({down:toNumber(l,parseFloat)/i})},function(){n(0,l=formatCurrency(i*a.down))},function(){store.updateValues({down:toNumber(c,parseFloat)/100}),n(0,l=formatCurrency(i*a.down))},function(){store.updateValues({term:toNumber(u,parseInt)})},function(){store.updateValues({rate:toNumber(d,parseFloat)/100})},s,r,i,p,a,function(){l=this.value,n(0,l),n(14,p),n(11,s),n(12,r),n(13,i),n(15,a)},function(){c=this.value,n(1,c)},function(){u=this.value,n(2,u)},function(){d=this.value,n(3,d)}]}class Form extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$4,safe_not_equal,{model:11,cost:12})}}function create_fragment$3(t){let e,n,o,a,s,r,i,l,c,u,d,p,f,_,m,y,v,g,b,h,$=formatCurrency(t[1].monthly)+"",w=formatCurrency(t[1].total)+"",k=document.body.classList.contains("hello")?"Get a quick estimate":"Configure now";return{c(){e=element("div"),n=element("div"),o=element("div"),a=text($),s=element("span"),s.textContent="/mo",r=space(),i=element("div"),l=text(w),c=text(" total mortgage"),u=space(),d=element("div"),d.textContent="Tax and insurance not included",p=space(),f=element("a"),_=text(k),m=space(),y=element("img"),attr(s,"class","period svelte-wq5iqp"),attr(o,"class","monthly svelte-wq5iqp"),attr(i,"class","total svelte-wq5iqp"),attr(d,"class","extra svelte-wq5iqp"),attr(n,"class","mortgage svelte-wq5iqp"),src_url_equal(y.src,v="/assets/images/configure/right-arrow.svg")||attr(y,"src","/assets/images/configure/right-arrow.svg"),attr(y,"alt","→"),attr(y,"class","svelte-wq5iqp"),attr(f,"href",g="/backyard/configure#bonewhite+"+t[0]),attr(f,"class","rounded blue svelte-wq5iqp"),attr(e,"class","result svelte-wq5iqp")},m(t,v){insert(t,e,v),append(e,n),append(n,o),append(o,a),append(o,s),append(n,r),append(n,i),append(i,l),append(i,c),append(n,u),append(n,d),append(e,p),append(e,f),append(f,_),append(f,m),append(f,y),b||(h=listen(f,"click",didClickReserveButton),b=!0)},p(t,[e]){2&e&&$!==($=formatCurrency(t[1].monthly)+"")&&set_data(a,$),2&e&&w!==(w=formatCurrency(t[1].total)+"")&&set_data(l,w),1&e&&g!==(g="/backyard/configure#bonewhite+"+t[0])&&attr(f,"href",g)},i:noop,o:noop,d(t){t&&detach(e),b=!1,h()}}}function didClickReserveButton(t){t.preventDefault(),t.stopPropagation(),Calculator.hide(),document.body.classList.contains("hello")?(window.getQuickEstimate(t),"undefined"!=typeof gtag&&gtag("event","calculator_reserve")):(openRoute("/backyard/configure"),"undefined"!=typeof gtag&&gtag("event","calculator_configure"))}function instance$3(t,e,n){let o,a;component_subscribe(t,store,(t=>n(4,a=t)));let s,{model:r}=e,{cost:i}=e;return afterUpdate((()=>{n(3,s=o)})),t.$$set=t=>{"model"in t&&n(0,r=t.model),"cost"in t&&n(2,i=t.cost)},t.$$.update=()=>{29&t.$$.dirty&&n(1,o=0===a.invalidValues.length?mortgageForCost(i||costForConfiguration({layout:r}).total,a):s)},[r,o,i,s,a]}class Result extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$3,safe_not_equal,{model:0,cost:2})}}const key=Symbol("modal");function create_fragment$2(t){let e,n,o,a;const s=t[2].default,r=create_slot(s,t,t[1],null);return{c(){e=element("button"),r&&r.c(),attr(e,"class","modal-control type-18 m-type-15 color-text-40 svelte-1bvdp6l")},m(s,i){insert(s,e,i),r&&r.m(e,null),n=!0,o||(a=listen(e,"click",t[0]),o=!0)},p(t,[e]){r&&r.p&&(!n||2&e)&&update_slot_base(r,s,t,t[1],n?get_slot_changes(s,t[1],e,null):get_all_dirty_from_scope(t[1]),null)},i(t){n||(transition_in(r,t),n=!0)},o(t){transition_out(r,t),n=!1},d(t){t&&detach(e),r&&r.d(t),o=!1,a()}}}function instance$2(t,e,n){let{$$slots:o={},$$scope:a}=e;const s=createEventDispatcher();return t.$$set=t=>{"$$scope"in t&&n(1,a=t.$$scope)},[function(){s("click")},a,o]}class ModalControl extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{})}}const{window:window_1}=globals;function create_if_block$1(t){let e,n;return e=new ModalControl({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),e.$on("click",didClickBackButton),{c(){create_component(e.$$.fragment)},m(t,o){mount_component(e,t,o),n=!0},p(t,n){const o={};256&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1(t){let e,n,o;return{c(){e=svg_element("svg"),n=svg_element("path"),o=text("\n\t\t\t\t\t\t\tBack"),attr(n,"d","m7.26894 16.6823c.37684.4038 1.00963.4256 1.41338.0488.40375-.3769.42557-1.0097.04874-1.4134zm-6.268941-8.1823-.731055-.68232c-.3585929.38421-.3585929.98043 0 1.36464zm7.731051-6.81768c.37684-.40375.35502-1.03654-.04873-1.413374-.40375-.376835-1.03654-.3550151-1.41338.048736zm.00001 13.63538-7.00001-7.50002-1.462106 1.36464 6.999996 7.49998zm-7.00001-6.13538 7-7.5-1.46211-1.364638-6.999996 7.499998z"),attr(n,"fill","#000"),attr(n,"fill-opacity",".4"),attr(e,"fill","none"),attr(e,"height","17"),attr(e,"viewBox","0 0 9 17"),attr(e,"width","9"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,a){insert(t,e,a),append(e,n),insert(t,o,a)},p:noop,d(t){t&&(detach(e),detach(o))}}}function create_default_slot$1(t){let e,n;return{c(){e=svg_element("svg"),n=svg_element("path"),attr(n,"d","m13.3007.709971c-.39-.39-1.02-.39-1.41 0l-4.89 4.879999-4.89-4.889999c-.39-.39-1.02-.39-1.409997 0-.39.389999-.39 1.019999 0 1.409999l4.889997 4.89-4.889997 4.89003c-.39.39-.39 1.02 0 1.41.389997.39 1.019997.39 1.409997 0l4.89-4.89003 4.89 4.89003c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-4.89-4.89003 4.89-4.89c.38-.38.38-1.02 0-1.399999z"),attr(n,"fill","#000"),attr(n,"fill-opacity",".4"),attr(e,"fill","none"),attr(e,"height","14"),attr(e,"viewBox","0 0 14 14"),attr(e,"width","14"),attr(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){insert(t,e,o),append(e,n)},p:noop,d(t){t&&detach(e)}}}function create_fragment$1(t){let e,n,o,a,s,r,i,l,c,u,d,p,f,_=t[2]&&create_if_block$1(t);l=new ModalControl({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),l.$on("click",t[5]);const m=t[6].default,y=create_slot(m,t,t[8],null);return{c(){e=element("div"),n=element("div"),o=element("div"),a=element("div"),s=element("div"),_&&_.c(),r=space(),i=element("div"),create_component(l.$$.fragment),c=space(),y&&y.c(),attr(s,"class","common-modal-back-button"),attr(i,"class","common-modal-close-button svelte-9h80rc"),attr(a,"class","common-modal-controls svelte-9h80rc"),attr(o,"class","content svelte-9h80rc"),attr(n,"class","common-modal-scroll svelte-9h80rc"),attr(e,"class",u=null_to_empty(`common-modal common-modal-variant-${t[0]}`)+" svelte-9h80rc")},m(u,m){insert(u,e,m),append(e,n),append(n,o),append(o,a),append(a,s),_&&_.m(s,null),append(a,r),append(a,i),mount_component(l,i,null),append(o,c),y&&y.m(o,null),t[7](n),d=!0,p||(f=[listen(window_1,"keydown",t[4]),listen(o,"click",didClickContent),listen(n,"mousedown",t[3]),listen(n,"mousemove",didMouseMove),listen(n,"mousewheel",didScrollWindow),listen(n,"scroll",didScrollWindow)],p=!0)},p(t,[n]){t[2]?_?(_.p(t,n),4&n&&transition_in(_,1)):(_=create_if_block$1(t),_.c(),transition_in(_,1),_.m(s,null)):_&&(group_outros(),transition_out(_,1,1,(()=>{_=null})),check_outros());const o={};256&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o),y&&y.p&&(!d||256&n)&&update_slot_base(y,m,t,t[8],d?get_slot_changes(m,t[8],n,null):get_all_dirty_from_scope(t[8]),null),(!d||1&n&&u!==(u=null_to_empty(`common-modal common-modal-variant-${t[0]}`)+" svelte-9h80rc"))&&attr(e,"class",u)},i(t){d||(transition_in(_),transition_in(l.$$.fragment,t),transition_in(y,t),d=!0)},o(t){transition_out(_),transition_out(l.$$.fragment,t),transition_out(y,t),d=!1},d(n){n&&detach(e),_&&_.d(),destroy_component(l),y&&y.d(n),t[7](null),p=!1,run_all(f)}}}function didClickContent(t){t.stopPropagation()}function didMouseMove(t){t.stopPropagation()}function didScrollWindow(t){t.stopPropagation()}function didClickBackButton(){window.dispatchEvent(new Event("modal:did-click-back-button"))}function instance$1(t,e,n){let{$$slots:o={},$$scope:a}=e,{variant:s="default"}=e;setContext(key,{setCanGoBack:function(t){n(2,l=t)},setBackgroundClickable:function(t){c=t}});const r=createEventDispatcher();let i,l=!1,c=!0;function u(){r("dismiss")}function d(){i.scrollTo(0,0)}return onMount((()=>{document.body.classList.add("common-modal-presented"),window.addEventListener("router:will-change-url",u),window.addEventListener("modal:did-change-content",d)})),onDestroy((()=>{document.body.classList.remove("common-modal-presented"),window.removeEventListener("router:will-change-url",u),window.removeEventListener("modal:did-change-content",d)})),t.$$set=t=>{"variant"in t&&n(0,s=t.variant),"$$scope"in t&&n(8,a=t.$$scope)},[s,i,l,function(t){!0===c&&t.target===i&&u()},function(t){i.matches(":focus-within")||"Escape"===t.key&&u()},function(){u()},o,function(t){binding_callbacks[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},a]}class Modal extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{variant:0})}}function create_if_block_2(t){let e,n,o;return n=new InstallationCostExplained({}),{c(){e=element("div"),create_component(n.$$.fragment),attr(e,"class","column six info svelte-faps1h")},m(t,a){insert(t,e,a),mount_component(n,e,null),o=!0},i(t){o||(transition_in(n.$$.fragment,t),o=!0)},o(t){transition_out(n.$$.fragment,t),o=!1},d(t){t&&detach(e),destroy_component(n)}}}function create_if_block(t){let e,n,o,a,s,r,i,l,c,u;n=new Header({});const d=[create_if_block_1,create_else_block],p=[];function f(t,e){return"calculator-imageless"===t[1]?0:1}return a=f(t),s=p[a]=d[a](t),i=new Form({props:{model:t[0],cost:t[2]}}),c=new Result({props:{model:t[0],cost:t[2]}}),{c(){e=element("div"),create_component(n.$$.fragment),o=space(),s.c(),r=space(),create_component(i.$$.fragment),l=space(),create_component(c.$$.fragment),attr(e,"class","column six form svelte-faps1h")},m(t,s){insert(t,e,s),mount_component(n,e,null),append(e,o),p[a].m(e,null),append(e,r),mount_component(i,e,null),append(e,l),mount_component(c,e,null),u=!0},p(t,n){let o=a;a=f(t),a===o?p[a].p(t,n):(group_outros(),transition_out(p[o],1,1,(()=>{p[o]=null})),check_outros(),s=p[a],s?s.p(t,n):(s=p[a]=d[a](t),s.c()),transition_in(s,1),s.m(e,r));const l={};1&n&&(l.model=t[0]),4&n&&(l.cost=t[2]),i.$set(l);const u={};1&n&&(u.model=t[0]),4&n&&(u.cost=t[2]),c.$set(u)},i(t){u||(transition_in(n.$$.fragment,t),transition_in(s),transition_in(i.$$.fragment,t),transition_in(c.$$.fragment,t),u=!0)},o(t){transition_out(n.$$.fragment,t),transition_out(s),transition_out(i.$$.fragment,t),transition_out(c.$$.fragment,t),u=!1},d(t){t&&detach(e),destroy_component(n),p[a].d(),destroy_component(i),destroy_component(c)}}}function create_else_block(t){let e,n,o;function a(e){t[4](e)}let s={};return void 0!==t[0]&&(s.model=t[0]),e=new ModelPicker({props:s}),binding_callbacks.push((()=>bind(e,"model",a))),{c(){create_component(e.$$.fragment)},m(t,n){mount_component(e,t,n),o=!0},p(t,o){const a={};!n&&1&o&&(n=!0,a.model=t[0],add_flush_callback((()=>n=!1))),e.$set(a)},i(t){o||(transition_in(e.$$.fragment,t),o=!0)},o(t){transition_out(e.$$.fragment,t),o=!1},d(t){destroy_component(e,t)}}}function create_if_block_1(t){let e,n;return e=new EstimatedCost({props:{cost:t[2],installation:t[3]}}),{c(){create_component(e.$$.fragment)},m(t,o){mount_component(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.cost=t[2]),8&n&&(o.installation=t[3]),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function create_default_slot(t){let e,n,o,a,s="both"===t[1]||t[1].startsWith("calculator"),r=("both"===t[1]||"ice"===t[1])&&create_if_block_2(),i=s&&create_if_block(t);return{c(){e=element("div"),n=element("div"),r&&r.c(),o=space(),i&&i.c(),attr(n,"class","row"),attr(e,"class","calculator grid svelte-faps1h"),attr(e,"data-variant",t[1])},m(t,s){insert(t,e,s),append(e,n),r&&r.m(n,null),append(n,o),i&&i.m(n,null),a=!0},p(t,l){"both"===t[1]||"ice"===t[1]?r?2&l&&transition_in(r,1):(r=create_if_block_2(),r.c(),transition_in(r,1),r.m(n,o)):r&&(group_outros(),transition_out(r,1,1,(()=>{r=null})),check_outros()),2&l&&(s="both"===t[1]||t[1].startsWith("calculator")),s?i?(i.p(t,l),2&l&&transition_in(i,1)):(i=create_if_block(t),i.c(),transition_in(i,1),i.m(n,null)):i&&(group_outros(),transition_out(i,1,1,(()=>{i=null})),check_outros()),(!a||2&l)&&attr(e,"data-variant",t[1])},i(t){a||(transition_in(r),transition_in(i),a=!0)},o(t){transition_out(r),transition_out(i),a=!1},d(t){t&&detach(e),r&&r.d(),i&&i.d()}}}function create_fragment(t){let e,n;return e=new Modal({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),e.$on("dismiss",didDismissModal),{c(){create_component(e.$$.fragment)},m(t,o){mount_component(e,t,o),n=!0},p(t,[n]){const o={};47&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(transition_in(e.$$.fragment,t),n=!0)},o(t){transition_out(e.$$.fragment,t),n=!1},d(t){destroy_component(e,t)}}}function didDismissModal(){Calculator.hide()}function instance(t,e,n){let{variant:o}=e,{cost:a}=e,{installation:s}=e,{model:r="studio"}=e;return"both"===o&&store.reset(),t.$$set=t=>{"variant"in t&&n(1,o=t.variant),"cost"in t&&n(2,a=t.cost),"installation"in t&&n(3,s=t.installation),"model"in t&&n(0,r=t.model)},[r,o,a,s,function(t){r=t,n(0,r)}]}class Calculator_1 extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{variant:1,cost:2,installation:3,model:0})}}function createCalculator(t,e,n,o=0){const a=document.querySelector("#calculator"),s=optionWithKey$1("layout").values[o].key,r=new Calculator_1({target:a,props:{variant:t,cost:e,installation:n,model:s}});return function(){a.classList.add("dismiss"),r.$destroy(),a.classList.remove("dismiss")}}let destroy;window.Calculator={show(t,e,n,o){if(void 0===destroy&&(destroy=createCalculator(t,e,n,o),"undefined"!=typeof gtag))switch(t){case"both":gtag("event","all_in_cost_calculator_opened");break;case"ice":gtag("event","all_in_cost_opened");break;case"calculator-imageless":gtag("event","calculator_opened")}},hide(){void 0!==destroy&&(destroy(),destroy=void 0)}}})();
//# sourceMappingURL=bundle.js.map;
